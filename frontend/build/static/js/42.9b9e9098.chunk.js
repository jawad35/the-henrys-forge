(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[42],{116:function(e,t,a){"use strict";a(1);var i=a(130),s=a(2);t.a=e=>{let{title:t}=e;return Object(s.jsx)(i.a,{children:Object(s.jsx)("title",{children:t})})}},128:function(e,t,a){"use strict";a(1),a(129);var i=a(2);t.a=()=>Object(i.jsx)("div",{className:"loading",children:Object(i.jsx)("div",{})})},129:function(e,t,a){},340:function(e,t,a){},401:function(e,t,a){"use strict";a.r(t);var i=a(1),s=(a(340),a(128)),c=a(201),r=a.n(c),n=a(272),l=a.n(n),o=a(19),j=a(33),d=a(25),p=a(3),u=a(116),m=a(190),b=a(2);t.default=e=>{let{history:t}=e;const a=Object(o.b)(),c=Object(d.d)(),{user:n}=Object(o.c)((e=>e.user)),{error:f,isUpdated:O,loading:g}=Object(o.c)((e=>e.profile)),[x,h]=Object(i.useState)(""),[y,v]=Object(i.useState)(""),[P,w]=Object(i.useState)(""),[F,N]=Object(i.useState)("/Profile.png");return Object(i.useEffect)((()=>{n&&(h(n.name),v(n.email),N(n.avatar.url)),f&&(c.error(f),a(Object(j.a)())),O&&(c.success("Profile Updated Successfully"),a(Object(j.f)()),t.push("/account"),a({type:p.F}))}),[a,f,c,t,n,O]),Object(b.jsx)(i.Fragment,{children:g?Object(b.jsx)(s.a,{}):Object(b.jsxs)(i.Fragment,{children:[Object(b.jsx)(u.a,{title:"Update Profile"}),Object(b.jsx)("div",{className:"updateProfileContainer",children:Object(b.jsxs)("div",{className:"updateProfileBox",children:[Object(b.jsx)("h2",{className:"updateProfileHeading",children:"Update Profile"}),Object(b.jsxs)("form",{className:"updateProfileForm",encType:"multipart/form-data",onSubmit:e=>{e.preventDefault();const t=new FormData;t.set("name",x),t.set("email",y),t.set("avatar",P),a(Object(j.l)(t))},children:[Object(b.jsxs)("div",{className:"updateProfileName",children:[Object(b.jsx)(l.a,{}),Object(b.jsx)("input",{type:"text",placeholder:"Name",required:!0,name:"name",value:x,onChange:e=>h(e.target.value)})]}),Object(b.jsxs)("div",{className:"updateProfileEmail",children:[Object(b.jsx)(r.a,{}),Object(b.jsx)("input",{type:"email",placeholder:"Email",required:!0,name:"email",value:y,onChange:e=>v(e.target.value)})]}),Object(b.jsx)("img",{style:{objectFit:"contain",margin:"10px 0px"},src:F,width:"150",alt:"Avatar Preview"}),Object(b.jsx)("div",{id:"updateProfileImage",children:Object(b.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:e=>{const t=e.target.files[0];if("image/jpeg"===t.type||"image/png"===t.type||"image/jpg"===t.type||"image/bmp"===t.type||"image/webp"===t.type){const a=new FileReader;if(a.onload=()=>{2===a.readyState&&N((e=>[...e,a.result]))},a.readAsDataURL(t),t.size>9e4){async function i(e){const t=e,a={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.7,fileType:"image/jpeg"};try{const e=await Object(m.a)(t,a);m.a.getDataUrlFromFile(e).then((e=>{w(e),N(e)}))}catch(f){console.log(f)}}i(t)}else(e=>{if(e){const t=new FileReader;t.onload=e=>{const{result:a}=e.target;2===t.readyState&&N(t.result),a&&w(a)},t.readAsDataURL(e)}})(t)}else c.error("only .jpeg,.jpg,.png, and .webp formats are allowed")}})}),Object(b.jsx)("input",{type:"submit",value:"Update",className:"updateProfileBtn",style:{marginTop:"2px"}})]})]})})]})})}}}]);
//# sourceMappingURL=42.9b9e9098.chunk.js.map