(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[40],{115:function(e,t,a){"use strict";a(1);var c=a(129),s=a(2);t.a=e=>{let{title:t}=e;return Object(s.jsx)(c.a,{children:Object(s.jsx)("title",{children:t})})}},126:function(e,t,a){"use strict";a(1),a(127);var c=a(2);t.a=()=>Object(c.jsx)("div",{className:"loading",children:Object(c.jsx)("div",{})})},127:function(e,t,a){},134:function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"e",(function(){return n})),a.d(t,"b",(function(){return d})),a.d(t,"j",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"h",(function(){return p})),a.d(t,"i",(function(){return j})),a.d(t,"f",(function(){return u})),a.d(t,"d",(function(){return b})),a.d(t,"a",(function(){return y}));var c=a(12),s=a.n(c),i=a(4);a(52);const r=()=>async e=>{try{e({type:i.e});let t="/api/v1/products";const{data:a}=await s.a.get(t);e({type:i.f,payload:a})}catch(t){e({type:i.d,payload:t.response.data.message})}},n=()=>async e=>{try{e({type:i.b});const{data:t}=await s.a.get("/api/v1/admin/products");e({type:i.c,payload:t.products})}catch(t){e({type:i.a,payload:t.response.data.message})}},d=e=>async t=>{try{t({type:i.t});const a={headers:{"Content-Type":"multipart/form-data"}},{data:c}=await s.a.post("/api/v1/admin/product/new",e,a);t({type:i.v,payload:c})}catch(a){t({type:i.s,payload:a.response.data.message})}},o=(e,t)=>async a=>{try{a({type:i.F});const c={headers:{"Content-Type":"application/json"}},{data:r}=await s.a.put(`/api/v1/admin/product/${e}`,t,c);a({type:i.H,payload:r.success})}catch(c){a({type:i.E,payload:c.response.data.message})}},l=e=>async t=>{try{t({type:i.l});const{data:a}=await s.a.delete(`/api/v1/admin/product/${e}`);t({type:i.n,payload:a.success})}catch(a){t({type:i.k,payload:a.response.data.message})}},p=e=>async t=>{try{t({type:i.C}),t({type:i.B});const{data:a}=await s.a.get(`/api/v1/product/${e}`);t({type:i.D,payload:a.product})}catch(a){t({type:i.A,payload:a.response.data.message})}},j=e=>async t=>{try{t({type:i.x});const a={headers:{"Content-Type":"application/json"}},{data:c}=await s.a.put("/api/v1/review",e,a);t({type:i.z,payload:c.success})}catch(a){t({type:i.w,payload:a.response.data.message})}},u=e=>async t=>{try{t({type:i.h});const{data:a}=await s.a.get(`/api/v1/reviews?id=${e}`);t({type:i.i,payload:a.reviews})}catch(a){t({type:i.g,payload:a.response.data.message})}},b=(e,t)=>async a=>{try{a({type:i.p});const{data:c}=await s.a.delete(`/api/v1/reviews?id=${e}&productId=${t}`);a({type:i.r,payload:c.success})}catch(c){a({type:i.o,payload:c.response.data.message})}},y=()=>async e=>{e({type:i.j})}},225:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return d}));var c=a(23),s=a(12),i=a.n(s);a(52);const r=(e,t)=>async(a,s)=>{const{data:r}=await i.a.get(`/api/v1/product/${e}`);a({type:c.a,payload:{product:r.product._id,name:r.product.name,price:r.product.price,image:r.product.images[0].url,stock:r.product.Stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(s().cart.cartItems))},n=e=>async(t,a)=>{t({type:c.b,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))},d=e=>async t=>{t({type:c.d,payload:e}),localStorage.setItem("shippingInfo",JSON.stringify(e))}},324:function(e,t,a){},416:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(317),i=a.n(s),r=(a(324),a(19)),n=a(134),d=(a(344),a(325),a(347)),o=a.p+"static/media/Profile.697fdcd2.png",l=a(2);var p=e=>{let{review:t}=e;const a={value:t.rating,readOnly:!0,precision:.5};return Object(l.jsxs)("div",{className:"reviewCard",children:[Object(l.jsx)("img",{src:o,alt:"User"}),Object(l.jsx)("p",{children:t.name}),Object(l.jsx)(d.a,{...a}),Object(l.jsx)("span",{className:"reviewCardComment",children:t.comment})]})},j=a(126),u=a(25),b=a(115),y=a(225),m=a(400),O=a(401),h=a(402),v=a(403),x=a(153),g=a(4),f=a(326),w=a.n(f);t.default=e=>{let{match:t}=e;const a=Object(r.b)(),s=Object(u.d)(),{product:o,loading:f,error:k}=Object(r.c)((e=>e.productDetails)),{success:N,error:S}=Object(r.c)((e=>e.newReview)),C={size:"large",value:o.ratings,readOnly:!0,precision:.5},[I,R]=Object(c.useState)(1),[T,$]=Object(c.useState)(!1),[B,D]=Object(c.useState)(0),[_,z]=Object(c.useState)(""),F=()=>{$(!T)};return Object(c.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"}),k&&(s.error(k),a(Object(n.a)())),S&&(s.error(S),a(Object(n.a)())),N&&(s.success("Review Submitted Successfully"),a({type:g.y})),a(Object(n.h)(t.params.id))}),[a,t.params.id,k,s,S,N]),Object(l.jsx)(c.Fragment,{children:f?Object(l.jsx)(j.a,{}):Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)(b.a,{title:`${o.name} -- the henrys forge`}),Object(l.jsxs)("div",{className:"ProductDetails",children:[Object(l.jsx)("div",{className:"small-car",children:Object(l.jsx)(i.a,{children:o.images&&o.images.map(((e,t)=>Object(l.jsxs)("div",{className:"images-textbtn",children:[Object(l.jsx)("img",{style:{objectFit:"contain"},src:null===e||void 0===e?void 0:e.url,alt:"image crashed"}),Object(l.jsx)("p",{style:{marginTop:"15px"},children:Object(l.jsx)("a",{style:{background:"tomato",borderRadius:"15px",textDecoration:"none",padding:"5px 20px",color:"white"},href:null===e||void 0===e?void 0:e.url,target:"_blank",children:"Open it"},t)})]})))})}),Object(l.jsx)("div",{className:"big-car",children:Object(l.jsx)(i.a,{children:o.images&&o.images.map(((e,t)=>Object(l.jsxs)("div",{className:"images-textbtn",children:[Object(l.jsx)("img",{style:{objectFit:"contain"},src:null===e||void 0===e?void 0:e.url,alt:"image crashed"}),Object(l.jsx)("p",{style:{marginTop:"15px"},children:Object(l.jsx)("a",{style:{background:"tomato",borderRadius:"15px",textDecoration:"none",padding:"5px 20px",color:"white"},href:null===e||void 0===e?void 0:e.url,target:"_blank",children:"Open it"},t)})]})))})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"detailsBlock-1",children:[Object(l.jsx)("h2",{style:{textTransform:"capitalize"},children:o.name}),Object(l.jsxs)("p",{style:{cursor:"copy"},onClick:()=>w()(null===o||void 0===o?void 0:o._id),children:["Product # ",null===o||void 0===o?void 0:o._id]})]}),Object(l.jsxs)("div",{className:"detailsBlock-2",children:[Object(l.jsx)(d.a,{...C}),Object(l.jsxs)("span",{className:"detailsBlock-2-span",children:["(",o.numOfReviews," Reviews)"]})]}),Object(l.jsxs)("div",{className:"detailsBlock-3",children:[Object(l.jsx)("h1",{children:`$${o.price}`}),Object(l.jsxs)("div",{className:"detailsBlock-3-1",children:[Object(l.jsxs)("div",{className:"detailsBlock-3-1-1",children:[Object(l.jsx)("button",{onClick:()=>{if(1>=I)return;R(I-1)},children:"-"}),Object(l.jsx)("input",{readOnly:!0,type:"number",value:I}),Object(l.jsx)("button",{onClick:()=>{if(o.Stock<=I)return;R(I+1)},children:"+"})]}),Object(l.jsx)("button",{disabled:o.Stock<1,onClick:()=>{a(Object(y.a)(t.params.id,I)),s.success("Item Added To Cart")},children:"Add to Cart"})]}),Object(l.jsxs)("p",{children:["Status:",Object(l.jsx)("b",{className:o.Stock<1?"redColor":"greenColor",children:o.Stock<1?"OutOfStock":"InStock"})]})]}),Object(l.jsxs)("div",{className:"detailsBlock-4",children:["Description : ",Object(l.jsx)("p",{style:{textTransform:"capitalize",fontWeight:"bolder"},children:o.description})]}),Object(l.jsx)("button",{onClick:F,className:"submitReview",children:"Submit Review"})]})]}),Object(l.jsx)("h3",{className:"reviewsHeading",children:"REVIEWS"}),Object(l.jsxs)(m.a,{"aria-labelledby":"simple-dialog-title",open:T,onClose:F,children:[Object(l.jsx)(O.a,{children:"Submit Review"}),Object(l.jsxs)(h.a,{className:"submitDialog",children:[Object(l.jsx)(d.a,{onChange:e=>D(e.target.value),value:B,size:"large"}),Object(l.jsx)("textarea",{className:"submitDialogTextArea",cols:"30",rows:"5",value:_,onChange:e=>z(e.target.value)})]}),Object(l.jsxs)(v.a,{children:[Object(l.jsx)(x.a,{onClick:F,color:"secondary",children:"Cancel"}),Object(l.jsx)(x.a,{onClick:()=>{const e={rating:B,comment:_,productId:t.params.id};a(Object(n.i)(e)),$(!1)},color:"primary",children:"Submit"})]})]}),o.reviews&&o.reviews[0]?Object(l.jsx)("div",{className:"reviews",children:o.reviews&&o.reviews.map((e=>Object(l.jsx)(p,{review:e},e._id)))}):Object(l.jsx)("p",{className:"noReviews",children:"No Reviews Yet"})]})})}}}]);
//# sourceMappingURL=40.f80d1d48.chunk.js.map