(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[45],{116:function(e,t,a){"use strict";a(1);var n=a(129),r=a(3);t.a=function(e){var t=e.title;return Object(r.jsx)(n.a,{children:Object(r.jsx)("title",{children:t})})}},127:function(e,t,a){"use strict";a(1),a(128);var n=a(3);t.a=function(){return Object(n.jsx)("div",{className:"loading",children:Object(n.jsx)("div",{})})}},128:function(e,t,a){},521:function(e,t,a){},587:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),i=a(13),c=a(40),s=a(39),l=a(1),u=(a(521),a(127)),o=a(215),j=a.n(o),p=a(333),d=a.n(p),f=a(23),b=a(42),m=a(29),O=a(4),g=a(116),v=a(201),x=a(3);t.default=function(e){var t=e.history,a=Object(f.b)(),n=Object(m.d)(),o=Object(f.c)((function(e){return e.user})).user,p=Object(f.c)((function(e){return e.profile})),h=p.error,y=p.isUpdated,P=p.loading,w=Object(l.useState)(""),F=Object(s.a)(w,2),N=F[0],S=F[1],U=Object(l.useState)(""),k=Object(s.a)(U,2),D=k[0],C=k[1],R=Object(l.useState)(""),A=Object(s.a)(R,2),B=A[0],E=A[1],T=Object(l.useState)("/Profile.png"),W=Object(s.a)(T,2),q=W[0],z=W[1];return Object(l.useEffect)((function(){o&&(S(o.name),C(o.email),z(o.avatar.url)),h&&(n.error(h),a(Object(b.a)())),y&&(n.success("Profile Updated Successfully"),a(Object(b.f)()),t.push("/account"),a({type:O.F}))}),[a,h,n,t,o,y]),Object(x.jsx)(l.Fragment,{children:P?Object(x.jsx)(u.a,{}):Object(x.jsxs)(l.Fragment,{children:[Object(x.jsx)(g.a,{title:"Update Profile"}),Object(x.jsx)("div",{className:"updateProfileContainer",children:Object(x.jsxs)("div",{className:"updateProfileBox",children:[Object(x.jsx)("h2",{className:"updateProfileHeading",children:"Update Profile"}),Object(x.jsxs)("form",{className:"updateProfileForm",encType:"multipart/form-data",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("name",N),t.set("email",D),t.set("avatar",B),a(Object(b.l)(t))},children:[Object(x.jsxs)("div",{className:"updateProfileName",children:[Object(x.jsx)(d.a,{}),Object(x.jsx)("input",{type:"text",placeholder:"Name",required:!0,name:"name",value:N,onChange:function(e){return S(e.target.value)}})]}),Object(x.jsxs)("div",{className:"updateProfileEmail",children:[Object(x.jsx)(j.a,{}),Object(x.jsx)("input",{type:"email",placeholder:"Email",required:!0,name:"email",value:D,onChange:function(e){return C(e.target.value)}})]}),Object(x.jsx)("img",{style:{objectFit:"contain",margin:"10px 0px"},src:q,width:"150",alt:"Avatar Preview"}),Object(x.jsx)("div",{id:"updateProfileImage",children:Object(x.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:function(e){var t=e.target.files[0];if("image/jpeg"===t.type||"image/png"===t.type||"image/jpg"===t.type||"image/bmp"===t.type||"image/webp"===t.type){var a=new FileReader;if(a.onload=function(){2===a.readyState&&z((function(e){return[].concat(Object(c.a)(e),[a.result])}))},a.readAsDataURL(t),t.size>9e4)(function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,n={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.7,fileType:"image/jpeg"},e.prev=2,e.next=5,Object(v.a)(a,n);case 5:i=e.sent,v.a.getDataUrlFromFile(i).then((function(e){E(e),z(e)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}})()(t);else!function(e){if(e){var t=new FileReader;t.onload=function(e){var a=e.target.result;2===t.readyState&&z(t.result),a&&E(a)},t.readAsDataURL(e)}}(t)}else n.error("only .jpeg,.jpg,.png, and .webp formats are allowed")}})}),Object(x.jsx)("input",{type:"submit",value:"Update",className:"updateProfileBtn",style:{marginTop:"2px"}})]})]})})]})})}}}]);
//# sourceMappingURL=45.39fcf405.chunk.js.map