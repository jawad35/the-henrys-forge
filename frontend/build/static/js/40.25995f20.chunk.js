(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[40],{116:function(e,t,n){"use strict";n(1);var a=n(129),r=n(3);t.a=function(e){var t=e.title;return Object(r.jsx)(a.a,{children:Object(r.jsx)("title",{children:t})})}},127:function(e,t,n){"use strict";n(1),n(128);var a=n(3);t.a=function(){return Object(a.jsx)("div",{className:"loading",children:Object(a.jsx)("div",{})})}},128:function(e,t,n){},135:function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"c",(function(){return j})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return b})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return h}));var a=n(7),r=n.n(a),c=n(13),s=n(14),i=n.n(s),o=n(5),u=(n(57),function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.e}),"/api/v1/products",e.next=5,i.a.get("/api/v1/products");case 5:n=e.sent,a=n.data,t({type:o.f,payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:o.d,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}),p=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.b}),e.next=4,i.a.get("/api/v1/admin/products");case 4:n=e.sent,a=n.data,t({type:o.c,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:o.a,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.t}),a={headers:{"Content-Type":"multipart/form-data"}},t.next=5,i.a.post("/api/v1/admin/product/new",e,a);case 5:c=t.sent,s=c.data,n({type:o.v,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:o.s,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c,s,u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:o.F}),c={headers:{"Content-Type":"application/json"}},n.next=5,i.a.put("/api/v1/admin/product/".concat(e),t,c);case 5:s=n.sent,u=s.data,a({type:o.H,payload:u.success}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:o.E,payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.l}),t.next=4,i.a.delete("/api/v1/admin/product/".concat(e));case 4:a=t.sent,c=a.data,n({type:o.n,payload:c.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:o.k,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.C}),n({type:o.B}),t.next=5,i.a.get("/api/v1/product/".concat(e));case 5:a=t.sent,c=a.data,n({type:o.D,payload:c.product}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:o.A,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.x}),a={headers:{"Content-Type":"application/json"}},t.next=5,i.a.put("/api/v1/review",e,a);case 5:c=t.sent,s=c.data,n({type:o.z,payload:s.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:o.w,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.h}),t.next=4,i.a.get("/api/v1/reviews?id=".concat(e));case 4:a=t.sent,c=a.data,n({type:o.i,payload:c.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:o.g,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c,s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:o.p}),n.next=4,i.a.delete("/api/v1/reviews?id=".concat(e,"&productId=").concat(t));case 4:c=n.sent,s=c.data,a({type:o.r,payload:s.success}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:o.o,payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},h=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:o.j});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},241:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d}));var a=n(7),r=n.n(a),c=n(13),s=n(25),i=n(14),o=n.n(i),u=(n(57),function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,c){var i,u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.get("/api/v1/product/".concat(e));case 2:i=n.sent,u=i.data,a({type:s.a,payload:{product:u.product._id,name:u.product.name,price:u.product.price,image:u.product.images[0].url,stock:u.product.Stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}),p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:s.b,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:s.d,payload:e}),localStorage.setItem("shippingInfo",JSON.stringify(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},505:function(e,t,n){},593:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(38),c=n(1),s=n(492),i=n.n(s),o=(n(505),n(22)),u=n(135),p=(n(526),n(506),n(528)),d=n.p+"static/media/Profile.697fdcd2.png",l=n(3),j=function(e){var t=e.review,n={value:t.rating,readOnly:!0,precision:.5};return Object(l.jsxs)("div",{className:"reviewCard",children:[Object(l.jsx)("img",{src:d,alt:"User"}),Object(l.jsx)("p",{children:t.name}),Object(l.jsx)(p.a,Object(a.a)({},n)),Object(l.jsx)("span",{className:"reviewCardComment",children:t.comment})]})},f=n(127),b=n(28),v=n(116),m=n(241),h=n(578),x=n(579),O=n(580),y=n(581),g=n(154),w=n(5),k=n(507),N=n.n(k);t.default=function(e){var t=e.match,n=Object(o.b)(),s=Object(b.d)(),d=Object(o.c)((function(e){return e.productDetails})),k=d.product,S=d.loading,C=d.error,I=Object(o.c)((function(e){return e.newReview})),R=I.success,T=I.error,B={size:"large",value:k.ratings,readOnly:!0,precision:.5},D=Object(c.useState)(1),_=Object(r.a)(D,2),z=_[0],F=_[1],J=Object(c.useState)(!1),A=Object(r.a)(J,2),E=A[0],P=A[1],H=Object(c.useState)(0),W=Object(r.a)(H,2),q=W[0],U=W[1],V=Object(c.useState)(""),Y=Object(r.a)(V,2),$=Y[0],G=Y[1],K=function(){P(!E)};return Object(c.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"}),C&&(s.error(C),n(Object(u.a)())),T&&(s.error(T),n(Object(u.a)())),R&&(s.success("Review Submitted Successfully"),n({type:w.y})),n(Object(u.h)(t.params.id))}),[n,t.params.id,C,s,T,R]),Object(l.jsx)(c.Fragment,{children:S?Object(l.jsx)(f.a,{}):Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)(v.a,{title:"".concat(k.name," -- the henrys forge")}),Object(l.jsxs)("div",{className:"ProductDetails",children:[Object(l.jsx)("div",{className:"small-car",children:Object(l.jsx)(i.a,{children:k.images&&k.images.map((function(e,t){return Object(l.jsxs)("div",{className:"images-textbtn",children:[Object(l.jsx)("img",{style:{objectFit:"contain"},src:null===e||void 0===e?void 0:e.url,alt:"image crashed"}),Object(l.jsx)("p",{style:{marginTop:"15px"},children:Object(l.jsx)("a",{style:{background:"tomato",borderRadius:"15px",textDecoration:"none",padding:"5px 20px",color:"white"},href:null===e||void 0===e?void 0:e.url,target:"_blank",children:"Open it"},t)})]})}))})}),Object(l.jsx)("div",{className:"big-car",children:Object(l.jsx)(i.a,{children:k.images&&k.images.map((function(e,t){return Object(l.jsxs)("div",{className:"images-textbtn",children:[Object(l.jsx)("img",{style:{objectFit:"contain"},src:null===e||void 0===e?void 0:e.url,alt:"image crashed"}),Object(l.jsx)("p",{style:{marginTop:"15px"},children:Object(l.jsx)("a",{style:{background:"tomato",borderRadius:"15px",textDecoration:"none",padding:"5px 20px",color:"white"},href:null===e||void 0===e?void 0:e.url,target:"_blank",children:"Open it"},t)})]})}))})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"detailsBlock-1",children:[Object(l.jsx)("h2",{style:{textTransform:"capitalize"},children:k.name}),Object(l.jsxs)("p",{style:{cursor:"copy"},onClick:function(){return N()(null===k||void 0===k?void 0:k._id)},children:["Product # ",null===k||void 0===k?void 0:k._id]})]}),Object(l.jsxs)("div",{className:"detailsBlock-2",children:[Object(l.jsx)(p.a,Object(a.a)({},B)),Object(l.jsxs)("span",{className:"detailsBlock-2-span",children:["(",k.numOfReviews," Reviews)"]})]}),Object(l.jsxs)("div",{className:"detailsBlock-3",children:[Object(l.jsx)("h1",{children:"$".concat(k.price)}),Object(l.jsxs)("div",{className:"detailsBlock-3-1",children:[Object(l.jsxs)("div",{className:"detailsBlock-3-1-1",children:[Object(l.jsx)("button",{onClick:function(){1>=z||F(z-1)},children:"-"}),Object(l.jsx)("input",{readOnly:!0,type:"number",value:z}),Object(l.jsx)("button",{onClick:function(){k.Stock<=z||F(z+1)},children:"+"})]}),Object(l.jsx)("button",{disabled:k.Stock<1,onClick:function(){n(Object(m.a)(t.params.id,z)),s.success("Item Added To Cart")},children:"Add to Cart"})]}),Object(l.jsxs)("p",{children:["Status:",Object(l.jsx)("b",{className:k.Stock<1?"redColor":"greenColor",children:k.Stock<1?"OutOfStock":"InStock"})]})]}),Object(l.jsxs)("div",{className:"detailsBlock-4",children:["Description : ",Object(l.jsx)("p",{style:{textTransform:"capitalize",fontWeight:"bolder"},children:k.description})]}),Object(l.jsx)("button",{onClick:K,className:"submitReview",children:"Submit Review"})]})]}),Object(l.jsx)("h3",{className:"reviewsHeading",children:"REVIEWS"}),Object(l.jsxs)(h.a,{"aria-labelledby":"simple-dialog-title",open:E,onClose:K,children:[Object(l.jsx)(x.a,{children:"Submit Review"}),Object(l.jsxs)(O.a,{className:"submitDialog",children:[Object(l.jsx)(p.a,{onChange:function(e){return U(e.target.value)},value:q,size:"large"}),Object(l.jsx)("textarea",{className:"submitDialogTextArea",cols:"30",rows:"5",value:$,onChange:function(e){return G(e.target.value)}})]}),Object(l.jsxs)(y.a,{children:[Object(l.jsx)(g.a,{onClick:K,color:"secondary",children:"Cancel"}),Object(l.jsx)(g.a,{onClick:function(){var e={rating:q,comment:$,productId:t.params.id};n(Object(u.i)(e)),P(!1)},color:"primary",children:"Submit"})]})]}),k.reviews&&k.reviews[0]?Object(l.jsx)("div",{className:"reviews",children:k.reviews&&k.reviews.map((function(e){return Object(l.jsx)(j,{review:e},e._id)}))}):Object(l.jsx)("p",{className:"noReviews",children:"No Reviews Yet"})]})})}}}]);
//# sourceMappingURL=40.25995f20.chunk.js.map