(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[33],{116:function(e,t,a){"use strict";a(1);var s=a(130),c=a(2);t.a=e=>{let{title:t}=e;return Object(c.jsx)(s.a,{children:Object(c.jsx)("title",{children:t})})}},128:function(e,t,a){"use strict";a(1),a(129);var s=a(2);t.a=()=>Object(s.jsx)("div",{className:"loading",children:Object(s.jsx)("div",{})})},129:function(e,t,a){},138:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"i",(function(){return o})),a.d(t,"c",(function(){return d})),a.d(t,"g",(function(){return p})),a.d(t,"h",(function(){return l})),a.d(t,"f",(function(){return u})),a.d(t,"d",(function(){return y})),a.d(t,"a",(function(){return j}));var s=a(12),c=a.n(s),n=a(4);a(52);const r=()=>async e=>{try{e({type:n.b});const{data:t}=await c.a.get("/api/v1/admin/products");e({type:n.c,payload:t.products})}catch(t){e({type:n.a,payload:t.response.data.message})}},i=e=>async t=>{try{t({type:n.t});const a={headers:{"Content-Type":"multipart/form-data"}},{data:s}=await c.a.post("/api/v1/admin/product/new",e,a);t({type:n.v,payload:s})}catch(a){t({type:n.s,payload:a.response.data.message})}},o=(e,t)=>async a=>{try{a({type:n.F});const s={headers:{"Content-Type":"application/json"}},{data:r}=await c.a.put(`/api/v1/admin/product/${e}`,t,s);a({type:n.H,payload:r.success})}catch(s){a({type:n.E,payload:s.response.data.message})}},d=e=>async t=>{try{t({type:n.l});const{data:a}=await c.a.delete(`/api/v1/admin/product/${e}`);t({type:n.n,payload:a.success})}catch(a){t({type:n.k,payload:a.response.data.message})}},p=e=>async t=>{try{t({type:n.C}),t({type:n.B});const{data:a}=await c.a.get(`/api/v1/product/${e}`);t({type:n.D,payload:a.product})}catch(a){t({type:n.A,payload:a.response.data.message})}},l=e=>async t=>{try{t({type:n.x});const a={headers:{"Content-Type":"application/json"}},{data:s}=await c.a.put("/api/v1/review",e,a);t({type:n.z,payload:s.success})}catch(a){t({type:n.w,payload:a.response.data.message})}},u=e=>async t=>{try{t({type:n.h});const{data:a}=await c.a.get(`/api/v1/reviews?id=${e}`);t({type:n.i,payload:a.reviews})}catch(a){t({type:n.g,payload:a.response.data.message})}},y=(e,t)=>async a=>{try{a({type:n.p});const{data:s}=await c.a.delete(`/api/v1/reviews?id=${e}&productId=${t}`);a({type:n.r,payload:s.success})}catch(s){a({type:n.o,payload:s.response.data.message})}},j=()=>async e=>{e({type:n.j})}},183:function(e,t,a){},198:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o}));var s=a(12),c=a.n(s),n=a(18);a(52);const r=e=>async t=>{try{t({type:n.c});const a={headers:{"Content-Type":"application/json"}},{data:s}=await c.a.post("/api/v1/admin/banner/new",e,a);t({type:n.d,payload:s})}catch(a){t({type:n.a,payload:a.response.data.message})}},i=()=>async e=>{try{e({type:n.c});const t={headers:{"Content-Type":"application/json"}},{data:a}=await c.a.get("/api/v1/admin/banner",t);e({type:n.b,payload:a})}catch(t){e({type:n.a,payload:t.response.data.message})}},o=e=>async t=>{try{t({type:n.c});const a={headers:{"Content-Type":"application/json"}},{data:s}=await c.a.post("/api/v1/admin/updatebanner",e,a);t({type:n.f,payload:s}),t({type:n.e})}catch(a){t({type:n.a,payload:a.response.data.message})}}},327:function(e,t,a){},328:function(e,t,a){},410:function(e,t,a){"use strict";a.r(t);var s=a(1),c=(a(327),a(183),a(328),a(19)),n=a(138),r=a(128),i=a(15),o=a(414),d=a(2);var p=e=>{let{product:t}=e;const a={value:t.ratings,readOnly:!0,precision:.5};return Object(d.jsxs)(i.b,{className:"productCard",to:`/product/${t._id}`,children:[Object(d.jsx)("img",{style:{objectFit:"cover",boxShadow:"5px 1px 10px gray",borderRadius:"10px 10px 0px 0px"},src:t.images[0].url,alt:t.name}),Object(d.jsx)("p",{style:{textTransform:"capitalize"},children:t.name.length>40?t.name.slice(0,40)+"...read more":t.name}),Object(d.jsxs)("div",{children:[Object(d.jsx)(o.a,{...a}),Object(d.jsxs)("p",{className:"productCardSpan",children:["(",t.numOfReviews," Reviews)"]})]}),Object(d.jsx)("span",{className:"pro-price",children:`$${t.price}`})]})},l=a(329),u=a.n(l),y=a(411),j=a(25),b=a(189),h=a(116),m=a(12),g=a.n(m),x=a(333),O=a.n(x),v=a(8),f=a(198);t.default=e=>{var t,a;let{match:i}=e;const o=Object(c.b)(),{keyword:l}=Object(v.h)(),m=Object(j.d)(),{categories:x}=Object(c.c)((e=>e.categories)),{loadingb:w,banner:C}=Object(c.c)((e=>e.banner)),{error:N}=Object(c.c)((e=>e.products)),[S,T]=Object(s.useState)(1),[P,k]=Object(s.useState)([0,5e3]),[L,$]=Object(s.useState)(""),[R,B]=Object(s.useState)(0),[z,A]=Object(s.useState)(""),[I,D]=Object(s.useState)([]),[E,F]=Object(s.useState)([]),[_]=Object(s.useState)(20),[H,J]=Object(s.useState)(0),[U,X]=Object(s.useState)(!0),q=(e,t,a,s)=>{$(a),k(t),B(e),A(s);const c=E.filter((c=>c.ratings>=e&&O()(c.price).isBetween(t[0],t[1])&&c.category.toLowerCase().includes(a.toLowerCase())&&c.name.toLowerCase().includes(s.toLowerCase())));if(0===e&&0===t[0]&&""===a&&""===s){const e=S*_-_,t=S*_,a=E.slice(e,t);J(E.length),D(a)}else J(c.length),D(c)};Object(s.useEffect)((()=>{try{o(Object(f.a)())}catch(N){}}),[o]);return Object(s.useEffect)((()=>{N&&(m.error(N),o(Object(n.a)())),g.a.get("/api/v1/products").then((e=>{l?(D(e.data.products.filter((e=>e.category===l)).slice(0,_)),J(I.length),$(l)):(D(e.data.products.slice(0,_)),J(e.data.products.length),$("")),F(e.data.products),X(!1)})).catch((e=>{console.log("AXIOS ERROR: ",e)})),$("axe")}),[o,m,N]),Object(d.jsx)(s.Fragment,{children:U?Object(d.jsx)(r.a,{}):Object(d.jsxs)("div",{style:{overflow:"hidden"},children:[Object(d.jsx)(h.a,{title:"PRODUCTS -- the henrys forge"}),Object(d.jsx)("div",{className:"banner",children:w?Object(d.jsx)(r.a,{}):Object(d.jsx)("img",{src:null===(t=C[0])||void 0===t||null===(a=t.images[0])||void 0===a?void 0:a.url,alt:"Banner"})}),Object(d.jsxs)("div",{className:"cateSearchBox",style:{background:"white"},children:[Object(d.jsxs)("div",{className:"filterFields",children:[Object(d.jsxs)("select",{value:L,onChange:e=>q(R,P,e.target.value,z),className:"categoryBox",style:{textTransform:"capitalize"},children:[Object(d.jsx)("option",{style:{textTransform:"capitalize"},value:"",children:"All"}),x.map((e=>Object(d.jsx)("option",{style:{textTransform:"capitalize"},value:e.name,children:e.name},e._id)))]}),Object(d.jsxs)("div",{className:"sliderBox",children:[Object(d.jsxs)("div",{className:"price-slider",children:[Object(d.jsx)(b.a,{children:"Price"}),Object(d.jsx)(y.a,{value:P,onChange:(e,t)=>q(R,t,L,z),valueLabelDisplay:"auto","aria-labelledby":"range-slider",min:0,max:5e3})]}),Object(d.jsxs)("div",{className:"rating-slider",children:[Object(d.jsx)(b.a,{component:"legend",children:"Ratings"}),Object(d.jsx)(y.a,{value:R,onChange:(e,t)=>{q(t,P,L,z)},"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",min:0,max:5})]})]})]}),Object(d.jsx)("input",{type:"text",className:"searchInput",placeholder:"Search Product...",onChange:e=>q(R,P,L,e.target.value)})]}),Object(d.jsx)("h2",{className:"productsHeading",children:"Products"}),Object(d.jsx)("div",{className:"products",children:I&&I.map((e=>Object(d.jsx)(p,{product:e},e._id)))}),_<=H&&Object(d.jsx)("div",{className:"paginationBox",children:Object(d.jsx)(u.a,{activePage:S,itemsCountPerPage:_,totalItemsCount:H,onChange:e=>{D(E.slice(e*_-_,e*_)),T(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"1st",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link",activeClass:"pageItemActive",activeLinkClass:"pageLinkActive"})})]})})}}}]);
//# sourceMappingURL=33.9d15ae02.chunk.js.map